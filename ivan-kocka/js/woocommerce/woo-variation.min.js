/*! Ivan Kocka - v1.0.0
 * http://code9rs.com
 * Copyright (c) 2016; * Licensed GPLv2+ */
function ivan_single_product_images(){"use strict";wc_add_to_cart_variation_params.disable_lightbox!==!0?jQuery(".single-product-main-images a").magnificPopup({type:"image",image:{verticalFit:!1},gallery:{enabled:!0}}):jQuery(".single-product-main-images a").click(function(a){return a.preventDefault(),!1});var a=jQuery(".single-product-main-images"),b=jQuery(".single-product-thumb-images");a.owlCarousel({theme:"style-outline-circle dark arrows-at-hover",singleItem:!0,autoHeight:!0,navigation:!0,navigationText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],pagination:!1,afterAction:function(a){var b=this.currentItem;jQuery(".single-product-thumb-images").find(".owl-item").removeClass("synced").eq(b).addClass("synced"),void 0!==jQuery(".single-product-thumb-images").data("owlCarousel")&&center(b)}}),b.owlCarousel({theme:"style-opaque-box arrows-at-hover",items:4,itemsDesktopSmall:[979,4],itemsTablet:[768,4],itemsMobile:[479,4],autoHeight:!0,navigation:!0,navigationText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],pagination:!1,afterInit:function(a){a.find(".owl-item").eq(0).addClass("synced")}}),b.on("click",".owl-item",function(b){b.preventDefault();var c=jQuery(this).data("owlItem");a.trigger("owl.goTo",c)})}function center(a){"use strict";var b=jQuery(".single-product-thumb-images"),c=b.data("owlCarousel").owl.visibleItems,d=a,e=!1;for(var f in c)d===c[f]&&(e=!0);e===!1?d>c[c.length-1]?b.trigger("owl.goTo",d-c.length+2):(d-1===-1&&(d=0),b.trigger("owl.goTo",d)):d===c[c.length-1]?b.trigger("owl.goTo",c[1]):d===c[0]&&b.trigger("owl.goTo",d-1)}!function(a,b,c,d){jQuery.fn.wc_variation_form=function(){return jQuery.fn.wc_variation_form.find_matching_variations=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];e.variation_id;jQuery.fn.wc_variation_form.variations_match(e.attributes,b)&&c.push(e)}return c},jQuery.fn.wc_variation_form.variations_match=function(a,b){var c=!0;for(var e in a)if(a.hasOwnProperty(e)){var f=a[e],g=b[e];f!==d&&g!==d&&0!==f.length&&0!==g.length&&f!==g&&(c=!1)}return c},this.unbind("check_variations update_variation_values found_variation"),this.find(".reset_variations").unbind("click"),this.find(".variations select").unbind("change focusin"),$form=this.on("click",".reset_variations",function(a){jQuery(this).closest(".variations_form").find(".variations select").val("").change();var b=jQuery(this).closest(".product").find(".sku"),c=jQuery(this).closest(".product").find(".product_weight"),d=jQuery(this).closest(".product").find(".product_dimensions");return b.attr("data-o_sku")&&b.text(b.attr("data-o_sku")),c.attr("data-o_weight")&&c.text(c.attr("data-o_weight")),d.attr("data-o_dimensions")&&d.text(d.attr("data-o_dimensions")),!1}).on("change",".variations select",function(a){$variation_form=jQuery(this).closest(".variations_form"),$variation_form.find("input.variation_id").length>0?$variation_form.find("input.variation_id").val("").change():$variation_form.find("input[name=variation_id]").val("").change(),$variation_form.trigger("woocommerce_variation_select_change").trigger("check_variations",["",!1]),jQuery(this).blur(),jQuery().uniform&&jQuery.isFunction(jQuery.uniform.update)&&jQuery.uniform.update(),$variation_form.trigger("woocommerce_variation_has_changed")}).on("focusin touchstart",".variations select",function(b){$variation_form=jQuery(this).closest(".variations_form"),"undefined"!=typeof a(this).data("attribute_name")?attribute_name=a(this).data("attribute_name"):attribute_name=a(this).attr("name"),$variation_form.trigger("woocommerce_variation_select_focusin").trigger("check_variations",[attribute_name,!0])}).on("check_variations",function(c,d,e){var f=!0,g=!1,h={},i=jQuery(this),j=i.find(".reset_variations");i.find(".variations select").each(function(){"undefined"!=typeof a(this).data("attribute_name")?attribute_name=a(this).data("attribute_name"):attribute_name=a(this).attr("name"),0===jQuery(this).val().length?f=!1:g=!0,d&&attribute_name===d?(f=!1,h[attribute_name]=""):(value=jQuery(this).val(),h[attribute_name]=value)});var k=parseInt(i.data("product_id")),l=i.data("product_variations");l||(l=b.product_variations.product_id),l||(l=b.product_variations),l||(l=b["product_variations_"+k]);var m=jQuery.fn.wc_variation_form.find_matching_variations(l,h);if(f){var n=m.shift();n?(i.find("input.variation_id").length>0?$variation_input=i.find("input.variation_id"):$variation_input=i.find("input[name=variation_id]"),$variation_input.val(n.variation_id).change(),i.trigger("found_variation",[n])):(i.find(".variations select").val(""),e||i.trigger("reset_image"),alert(wc_add_to_cart_variation_params.i18n_no_matching_variations_text))}else i.trigger("update_variation_values",[m]),e||i.trigger("reset_image"),d||i.find(".single_variation_wrap").slideUp(200);g?"hidden"===j.css("visibility")&&j.css("visibility","visible").hide().fadeIn():j.css("visibility","hidden")}).on("reset_image",function(a){var b=jQuery(this).closest(".product"),c=b.find(".single-product-main-images img:eq(0)"),e=b.find(".single-product-main-images a.zoom:eq(0)"),f=c.attr("data-o_src"),g=c.attr("data-o_title"),h=c.attr("data-o_alt"),i=e.attr("data-o_href"),j=b.find(".single-product-main-images").data("owlCarousel");f!==d&&c.attr("src",f),i!==d&&e.attr("href",i),g!==d&&(c.attr("title",g),e.attr("title",g)),h!==d&&c.attr("alt",h),j!==d&&j.goTo(0)}).on("update_variation_values",function(a,b){$variation_form=jQuery(this).closest(".variations_form"),$variation_form.find(".variations select").each(function(a,c){current_attr_select=jQuery(c),current_attr_select.data("attribute_options")||current_attr_select.data("attribute_options",current_attr_select.find("option:gt(0)").get()),current_attr_select.find("option:gt(0)").remove(),current_attr_select.append(current_attr_select.data("attribute_options")),current_attr_select.find("option:gt(0)").removeClass("attached"),current_attr_select.find("option:gt(0)").removeClass("enabled"),current_attr_select.find("option:gt(0)").removeAttr("disabled"),"undefined"!=typeof current_attr_select.data("attribute_name")?current_attr_name=current_attr_select.data("attribute_name"):current_attr_name=current_attr_select.attr("name");for(var d in b)if("undefined"!=typeof b[d]){var e=b[d].attributes;for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];f==current_attr_name&&(b[d].variation_is_active?variation_active="enabled":variation_active="",g?(g=jQuery("<div/>").html(g).text(),g=g.replace(/'/g,"\\'"),g=g.replace(/"/g,'\\"'),current_attr_select.find('option[value="'+g+'"]').addClass("attached "+variation_active)):current_attr_select.find("option:gt(0)").addClass("attached "+variation_active))}}current_attr_select.find("option:gt(0):not(.attached)").remove(),current_attr_select.find("option:gt(0):not(.enabled)").attr("disabled","disabled")}),$variation_form.trigger("woocommerce_update_variation_values")}).on("found_variation",function(a,b){var c=jQuery(this),e=jQuery(this).closest(".product"),f=e.find(".single-product-main-images img:eq(0)"),g=e.find(".single-product-main-images a.zoom:eq(0)"),h=f.attr("data-o_src"),i=f.attr("data-o_title"),j=f.attr("data-o_alt"),k=g.attr("data-o_href"),l=b.image_src,m=b.image_link,n=b.image_title,o=b.image_alt,p=e.find(".single-product-main-images").data("owlCarousel");c.find(".variations_button").show(),c.find(".single_variation").html(b.price_html+b.availability_html),h===d&&(h=f.attr("src")?f.attr("src"):"",f.attr("data-o_src",h)),k===d&&(k=g.attr("href")?g.attr("href"):"",g.attr("data-o_href",k)),i===d&&(i=f.attr("title")?f.attr("title"):"",f.attr("data-o_title",i)),j===d&&(j=f.attr("alt")?f.attr("alt"):"",f.attr("data-o_alt",j)),l&&l.length>1?(f.attr("src",l).attr("alt",o).attr("title",n),g.attr("href",m).attr("title",n)):(f.attr("src",h).attr("alt",j).attr("title",i),g.attr("href",k).attr("o_title",i)),p!==d&&p.goTo(0);var q=c.find(".single_variation_wrap"),r=e.find(".product_meta").find(".sku"),s=e.find(".product_weight"),t=e.find(".product_dimensions");r.attr("data-o_sku")||r.attr("data-o_sku",r.text()),s.attr("data-o_weight")||s.attr("data-o_weight",s.text()),t.attr("data-o_dimensions")||t.attr("data-o_dimensions",t.text()),b.sku?r.text(b.sku):r.text(r.attr("data-o_sku")),b.weight?s.text(b.weight):s.text(s.attr("data-o_weight")),b.dimensions?t.text(b.dimensions):t.text(t.attr("data-o_dimensions")),q.find(".quantity").show(),b.is_purchasable&&b.is_in_stock&&b.variation_is_visible||c.find(".variations_button").hide(),b.variation_is_visible||c.find(".single_variation").html("<p>"+wc_add_to_cart_variation_params.i18n_unavailable_text+"</p>"),b.min_qty?q.find(".quantity input.qty").attr("min",b.min_qty).val(b.min_qty):q.find(".quantity input.qty").removeAttr("min"),b.max_qty?q.find(".quantity input.qty").attr("max",b.max_qty):q.find(".quantity input.qty").removeAttr("max"),"yes"===b.is_sold_individually&&(q.find(".quantity input.qty").val("1"),q.find(".quantity").hide()),q.slideDown(200).trigger("show_variation",[b])}),$form.trigger("wc_variation_form"),$form},jQuery(function(){return"undefined"==typeof wc_add_to_cart_variation_params?!1:(jQuery(".variations_form").wc_variation_form(),void jQuery(".variations_form .variations select").change())})}(jQuery,window,document),jQuery(document).ready(function(){"use strict";ivan_single_product_images()});